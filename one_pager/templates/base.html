<!doctype html>
{% load static %}
{% load user_agents %}
<html lang="en">
<head>
    <title>Placeholder Title</title>
    
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Blog Template">
    <meta name="author" content="Judah Paul">    
    <link rel="shortcut icon" href="{% static 'assets/images/favicon.png' %}"> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    
    <!-- FontAwesome JS-->
    <script defer src="https://use.fontawesome.com/releases/v5.7.1/js/all.js"
		integrity="sha384-eVEQC9zshBn0rFj4+TU78eNA19HMNigMviK/PU/FFjLXqa/GKPgX58rvt5Z8PLs7"
		crossorigin="anonymous"></script>
    <script type="text/javascript">
		$(document).ready(function() {
			$("#top").click(function(){
				$('html, body').animate({scrollTop:0}, 'slow');
				return false;
			});

		});

        function hide(elementId) { 
            document.getElementById(elementId).style.display="none";
        }

		// ===== Scroll to Top ==== 
		$(window).scroll(function() {
			if ($(this).scrollTop() >= 50) {    // If page is scrolled more than 50px
				$('#top').fadeIn("fast");       // Fade in the arrow
			} else {
				$('#top').fadeOut("fast");      // Else fade out the arrow
			}
		});	

		let outer = document.querySelector("#outer");
		let content = outer.querySelector('#content');

		repeatContent(content, outer.offsetWidth);

		let el = outer.querySelector('#loop');
		el.innerHTML = el.innerHTML + el.innerHTML;

		function repeatContent(el, till) {
			let html = el.innerHTML;
			let counter = 0; // prevents infinite loop

			while (el.offsetWidth < till && counter < 100) {
				el.innerHTML += html;
				counter += 1;
			}
		}
    </script>
    
    <!-- Plugin CSS -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/styles/monokai-sublime.min.css">
    <link rel="stylesheet" href="{% static 'assets/css/main.css' %}">

    <!-- Theme CSS -->  
    <link id="theme-style" rel="stylesheet" href="{% static 'assets/css/theme-7.css' %}">
</head>

<body>
    <header id="header" class="header text-center" style="font-family: Helvetica;"> 
	    <h1 class="blog-name pt-lg-4 mb-0"><a href="{% url 'home' %}">&lt; Placeholder &gt;</a></h1>
        
	    <nav id="mobile-nav" class="navbar navbar-expand-lg navbar-dark" style="display: table;">
           
			<button class="navbar-toggler"
				{% if request|is_mobile %}
					style="display: table;"
				{% endif %}
				type="button"
				data-toggle="collapse"
				data-target="#navigation"
				aria-controls="navigation"
				aria-expanded="false"
				aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
			</button>

			<div id="navigation" class="collapse navbar-collapse flex-column" >
				<div class="profile-section pt-3 pt-lg-0">
				    <img class="profile-image mb-4 rounded-circle mx-auto" src="{% static 'assets/images/default.jpg' %}" alt="image" >			
					
				    <div class="bio mb-3">
						Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim.
					</div><!--//bio-->
			        <hr> 
                </div><!--//profile-section-->

				<ul class="navbar-nav flex-column text-center">
                    {% if request.path == '/' %}
                        <li class="nav-item  active">
                    {% else %}
                        <li class="nav-item">
                    {% endif %}
					        <a class="nav-link" href="{% url 'home' %}"><i class="fas fa-home fa-fw mr-2"></i>Blog Home<span class="sr-only">(current)</span></a>
                        </li>

                    {% if user.is_authenticated and user.is_staff %}
                        {% if request.path == '/profile/' %}
                            <li class="nav-item  active">
                        {% else %}
                            <li class="nav-item">
                        {% endif %}
                                <a class="nav-link" href="{% url 'profile' %}"><i class="fas fa-user fa-fw mr-2"></i>Edit Account Details</a>
                            </li>

                        {% if request.path == '/logout/' %}
                            <li class="nav-item  active">
                        {% else %}
                            <li class="nav-item">
                        {% endif %}
                                <a class="nav-link" href="{% url 'logout' %}">
                                    <div style="position: relative; right: 7px;">
                                        <i class="fas fa-user fa-fw mr-1"></i>
                                        <span>Logout</span>
                                    </div>
                                    <small>
										<strong>(Logged in as <span id="admin" {% if user.is_superuser %}style="color: #8dff5c"{% endif %}>{{ user.first_name }}</span>)</strong>
									</small>
                                </a>
                            </li>

                        {% if request.path == '/post/new/' %}
                            <li class="nav-item  active">
                        {% else %}
                            <li class="nav-item">
                        {% endif %}
                                <a class="nav-link" href="{% url 'post-create' %}"><i></i>+ New Blog Post +</a>
                            </li>

                        {% if request.path == '/testimonial/new/' %}
                            <li class="nav-item  active">
                        {% else %}
                            <li class="nav-item">
                        {% endif %}
                                <a class="nav-link" href="{% url 'testimonial-create' %}"><i></i>+ New Testimonial +</a>
                            </li>

                    {% elif user.is_authenticated %}
                        {% if request.path == '/profile/' %}
                            <li class="nav-item  active">
                        {% else %}
                            <li class="nav-item">
                        {% endif %}
                                <a class="nav-link" href="{% url 'profile' %}"><i class="fas fa-user fa-fw mr-2"></i>Edit Account Details</a>
                            </li>

                        {% if request.path == '/logout/' %}
                            <li class="nav-item  active">
                        {% else %}
                            <li class="nav-item">
                        {% endif %}
                                <a class="nav-link" href="{% url 'logout' %}" style="text-decoration : none; transition: color .3s;;">
                                    <div style="position: relative; right: 7px;">
                                        <i class="fas fa-user fa-fw mr-1"></i>
                                        <span>Logout</span>
                                    </div>
                                    <small>
										<strong>(Logged in as <span>{{ user.first_name }}</span>)</strong>
									</small>
                                </a>
                            </li>

                        {% if request.path == '/testimonial/new/' %}
                            <li class="nav-item  active">
                        {% else %}
                            <li class="nav-item">
                        {% endif %}
                                <a class="nav-link" href="{% url 'testimonial-create' %}"><i></i>+ New Testimonial +</a>
                            </li>

                    {% else %}
                        {% if request.path == '/login/' %}
                            <li class="nav-item  active">
                        {% else %}
                            <li class="nav-item">
                        {% endif %}
                                <a class="nav-link" href="{% url 'login' %}"><i class="fas fa-user fa-fw mr-2"></i>Login</a>
                            </li>

                        {% if request.path == '/register/' %}
                            <li class="nav-item  active">
                        {% else %}
                            <li class="nav-item">
                        {% endif %}
                                <a class="nav-link" href="{% url 'register' %}"><i class="fas fa-user fa-fw mr-2"></i>Register</a>
                            </li>

                    {% endif %}
				</ul>
				
				<div class="my-2 my-md-3">
				    <a class="btn btn-primary" href="https://www.gofundme.com/" target="_blank">Support Me</a>
				</div>
            </div> <!-- navigation -->
        </nav>
        
        {% if messages %}
            {% for message in messages %}
                <div id="message">
                    <div
                        {% if message.tags %}
                            class="alert alert-{{ message.tags }} alert-dismissible"
                        {% else %}
                            class="alert alert-info alert-dismissible"
                        {% endif %} role="alert">
                        <button type="btn btn-primary" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        {{ message }}
                    </div>
                </div>
            {% endfor %}
        {% endif %}
        <script type="text/javascript"> $("#message").delay(200).animate({"opacity": "1"}, 700) </script>

    </header>
    
    <div class="main-wrapper">
        {% block content %} 

        {% endblock content %}
    
    </div><!--//main-wrapper-->
    
	<!-- Return to Top -->
	<a href="javascript:" id="top"><i style="margin-left: 8%; margin-bottom: 10%;">&uarr;</i></a>

    <!-- Javascript -->          
    <script src="{% static 'assets/plugins/jquery-3.3.1.min.js' %}"></script>
    <script src="{% static 'assets/plugins/popper.min.js' %}"></script> 
    <script src="{% static 'assets/plugins/bootstrap/js/bootstrap.min.js' %}"></script> 

    <!-- Page Specific JS -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js"></script>

    <!-- Custom JS -->
    <script src="{% static 'assets/js/blog.js' %}"></script>

</body>
</html> 
